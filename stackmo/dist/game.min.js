!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=19)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"Vastgame",function(){return v});var i=n(14),r=n(5),o=n(1),a=n(15),c=n(8),s=n(9);n.d(e,"Actor",function(){return s.a}),n.d(e,"ActorInstance",function(){return s.b});var u=n(18);n.d(e,"Boundary",function(){return u.a});var l=n(3);n.d(e,"ActorState",function(){return l.a}),n.d(e,"Direction",function(){return l.b}),n.d(e,"GameState",function(){return l.c}),n.d(e,"Key",function(){return l.d}),n.d(e,"Input",function(){return r.a});var f=n(10);n.d(e,"Grid",function(){return f.a}),n.d(e,"GridCell",function(){return f.b}),n.d(e,"Room",function(){return c.a});var h=n(6);n.d(e,"Sprite",function(){return h.a}),n.d(e,"SpriteTransformation",function(){return h.c});var d=n(11);n.d(e,"View",function(){return d.a});var p=function(){function t(){}return t.prototype.init=function(t,e){void 0===e&&(e={}),r.a.init();var n=document.getElementById(t),c=new i.a(n);c.init(e.canvas),o.a.setCanvas(c),this.runner=new a.a(c,e)},t.prototype.start=function(t){this.setRoom(t),this.runner.start()},t.prototype.setRoom=function(t){var e=c.a.get(t),n=o.a.getCurrentRoom();n&&n.end(),o.a.setCurrentRoom(e),e.hasStart&&e.callStart()},t}(),v=function(){function t(){}return t.init=function(t,e){return this.game.init(t,e),this.game},t.setRoom=function(t){this.game.setRoom(t)},t.game=new p,t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(5),r=function(){function t(){this.actors={},this.events={},this.rooms={},this.sprites={},this.nextEventID=function(){var t=0;return function(){return++t}}()}return t.setCanvas=function(t){var e=this;this._instance.canvas=t,i.a.registerClickHandler(function(t){e._instance.currentRoom&&e._instance.currentRoom.handleClick(t)})},t.defineActor=function(t,e){if(this._instance.actors[t])throw new Error("Actor "+t+" has already been defined.");this._instance.actors[t]=e},t.getActor=function(t){if(!this._instance.actors[t])throw new Error("Actor "+t+" has not been defined.");return this._instance.actors[t]},t.defineRoom=function(t,e){if(this._instance.rooms[t])throw new Error("Room "+t+" has already been defined.");this._instance.rooms[t]=e},t.getRoom=function(t){if(!this._instance.rooms[t])throw new Error("Room "+t+" has not been defined.");return this._instance.rooms[t]},t.getCurrentRoom=function(){return this._instance.currentRoom},t.setCurrentRoom=function(t){this._instance.currentRoom=t},t.defineSprite=function(t,e){if(this._instance.sprites[t])throw new Error("Sprite "+t+" has already been defined.");this._instance.sprites[t]=e},t.getSprite=function(t){if(!this._instance.sprites[t])throw new Error("Sprite "+t+" has not been defined.");return this._instance.sprites[t]},t.registerEvent=function(t){this._instance.events[this._instance.nextEventID()]=t},t.checkAndFireEvents=function(){for(var t in this._instance.events){var e=this._instance.events[t];e.conditionCallback()&&(e.actionCallback(),e.fireOnce&&delete this._instance.events[t])}},t._instance=new t,t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"Settings",function(){return i}),n.d(e,"ActorID",function(){return r}),n.d(e,"RoomID",function(){return o}),n.d(e,"SpriteID",function(){return a}),n.d(e,"GameAction",function(){return c}),n.d(e,"LevelBgColor",function(){return s});var i;!function(t){t.CanvasWidth="CanvasWidth",t.CanvasHeight="CanvasHeight",t.UnlockedLevels="UnlockedLevels"}(i||(i={}));var r;!function(t){t.ExitButton="BackButton",t.Block="Block",t.LevelIcon="LevelIcon",t.Player="Player",t.ScrollArrow="ScrollArrow",t.Title="Title",t.Wall="Wall",t.Win="Win"}(r||(r={}));var o;!function(t){t.Title="Title",t.LevelSelect="LevelSelect",t.Level="Level"}(o||(o={}));var a;!function(t){t.Arrows="Arrows",t.Digits="Digits",t.DoorSheet="DoorSheet",t.Box="Box",t.LevelIcon="LevelIcon",t.StackmoSheet="StackmoSheet",t.TextSheet="TextSheet",t.Title="Title",t.Wall="Wall",t.X="X"}(a||(a={}));var c;!function(t){t.Drop="Drop",t.Fall="Fall",t.Jump="Jump",t.Lift="Lift",t.Move="Move",t.CheckStopMoving="CheckStopMoving",t.Stop="Stop",t.Win="Win"}(c||(c={}));var s;!function(t){t.DarkTeal="#001820",t.Teal="#006070"}(s||(s={}))},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a});var i;!function(t){t[t.Active=1]="Active",t[t.Destroyed=2]="Destroyed"}(i||(i={}));var r;!function(t){t[t.Right=0]="Right",t[t.Down=90]="Down",t[t.Left=180]="Left",t[t.Up=270]="Up"}(r||(r={}));var o;!function(t){t[t.Running=1]="Running",t[t.Paused=2]="Paused"}(o||(o={}));var a;!function(t){t[t.Any=-1]="Any",t[t.Space=32]="Space",t[t.Left=37]="Left",t[t.Up=38]="Up",t[t.Right=39]="Right",t[t.Down=40]="Down"}(a||(a={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"Black",function(){return i}),n.d(e,"CanvasMaxWidth",function(){return r}),n.d(e,"CanvasMaxHeight",function(){return o}),n.d(e,"GridCellSize",function(){return a}),n.d(e,"BlockFallSpeed",function(){return c}),n.d(e,"PlayerMoveSpeed",function(){return s}),n.d(e,"PlayerJumpSpeed",function(){return u}),n.d(e,"PlayerFallSpeed",function(){return l});var i="#000",r=1024,o=768,a=64,c=8,s=4,u=8,l=8},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(3),r=function(){function t(){}return Object.defineProperty(t,"clickActive",{get:function(){return!!t._activePointerEvent},enumerable:!0,configurable:!0}),t.init=function(){var e=this,n=function(e){t._activePointerEvent||(t._activePointerEvent=e,t.clickHandlers.length&&t.clickHandlers.forEach(function(t){t.isAlive&&t.callback(e)}))},r=function(){t._activePointerEvent=null};document.body.onmousedown=function(t){n(a.fromMouseEvent(t))},document.body.ontouchstart=function(t){document.body.onmousedown=null,n(a.fromTouchEvent(t))},document.body.onmouseup=r,document.body.ontouchend=r,document.body.onkeydown=function(t){var n=t.keyCode||t.code,r=e.keyboardHandlers[n];r&&r.isAlive&&!e.keyboardActivity[n]&&(e.keyboardActivity[n]=!0,r.callback(t));var o=e.keyboardHandlers[i.d.Any];o&&o.isAlive&&!e.keyboardActivity[i.d.Any]&&(e.keyboardActivity[i.d.Any]=!0,o.callback(t))},document.body.onkeyup=function(t){var n=t.keyCode||t.code,r=e.keyboardHandlers[n];e.keyboardActivity[i.d.Any]=!1,r&&r.isAlive&&(e.keyboardActivity[n]=!1)}},t.registerClickHandler=function(e){var n=new o(e);return t.clickHandlers.push(n),n},t.registerKeyHandler=function(e,n){var i=new o(n);return t.keyboardHandlers[e]=i,i},t.keyDown=function(t){return!!this.keyboardActivity[t]},t.clickHandlers=[],t.keyboardHandlers={},t.keyboardActivity={},t._activePointerEvent=null,t}(),o=function(){function t(t){this.callback=t,this.isAlive=!0}return t.prototype.dispose=function(){this.isAlive=!1},t}(),a=function(){function t(){}return t.fromMouseEvent=function(t){return{x:t.offsetX,y:t.offsetY}},t.fromTouchEvent=function(t){var e=t.touches[0];return{x:e?e.clientX:0,y:e?e.clientY:0}},t}()},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var i,r=n(1);!function(t){t[t.Opacity=0]="Opacity"}(i||(i={}));var o=function(){function t(t){this.transformatons={},this.image=new Image,this.image.src=t.imageSource,this.height=t.height,this.width=t.width,this.frameBorder=t.frameBorder,this.setDefaultTransforms()}return t.define=function(e,n){var i=new t(n);return r.a.defineSprite(e,i),i},t.get=function(t){return r.a.getSprite(t)},t.prototype.setDefaultTransforms=function(){this.transformatons[i.Opacity]=1},t.prototype.getTransform=function(t){return this.transformatons[t]},t.prototype.transform=function(t,e){this.transformatons[t]+=e},t.prototype.setTransform=function(t,e){this.transformatons[t]=e},t}(),a=function(){function t(t){this.sprite=t,this.current=0,this.depth=0,this.current=0}return Object.defineProperty(t.prototype,"frame",{get:function(){return this.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return this.sprite},enumerable:!0,configurable:!0}),t.prototype.start=function(t,e,n){var i=this;this.stop(),this.current=t,this.timer=setInterval(function(){i.current=i.current===e?t:i.current+1},n)},t.prototype.stop=function(){this.timer&&clearInterval(this.timer)},t.prototype.set=function(t){this.stop(),this.current=t},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"Registry",function(){return i});var i=function(){function t(){}return t.get=function(t){return this.values[t]},t.set=function(t,e){this.values[t]=e},t.values={},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(9),r=n(5),o=n(1),a=n(10),c=n(11),s=function(){return function(t,e,n,i){void 0===e&&(e="#000"),this.color=t,this.pageColor=e,this.width=n,this.height=i}}(),u=function(){function t(){this.actorInstanceMap={},this.eventHandlers=[]}return t.define=function(e){var n=new t;return o.a.defineRoom(e,n),n},t.get=function(t){return o.a.getRoom(t)},Object.defineProperty(t,"current",{get:function(){return o.a.getCurrentRoom()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasStart",{get:function(){return!!this.onStartCallback},enumerable:!0,configurable:!0}),t.prototype.onStart=function(t){this.onStartCallback=t},t.prototype.callStart=function(){this.onStartCallback()},Object.defineProperty(t.prototype,"hasDraw",{get:function(){return!!this.onDrawCallback},enumerable:!0,configurable:!0}),t.prototype.onDraw=function(t){this.onDrawCallback=t},t.prototype.callDraw=function(t){this.onDrawCallback(t)},t.prototype.onClick=function(t){var e=r.a.registerClickHandler(t);this.eventHandlers.push(e)},t.prototype.onKey=function(t,e){var n=r.a.registerKeyHandler(t,e);this.eventHandlers.push(n)},t.prototype.defineGrid=function(t){return this.grid=new a.a(t,this),this.grid},t.prototype.defineView=function(t,e,n,i){return this.view=new c.a(t,e,n,i),this.view},t.prototype.setBackground=function(t,e,n,i){this.background=new s(t,i,e,n),i&&(document.body.style.backgroundColor=i)},t.prototype.step=function(){var t=this;this.getInstances().forEach(function(e){var n=e.parent;e.isActive?(0!==e.speed&&t.applyInstanceMovement(e),t.checkCollisions(e),n.hasStep&&n.callStep(e),e.doPostStep()):t.destroyActorInstance(e)}),this.view&&this.view.update()},t.prototype.applyInstanceMovement=function(t){var e=Math.round(t.getMovementOffsetX()),n=Math.round(t.getMovementOffsetY());0===e&&0===n||t.setPositionRelative(e,n)},t.prototype.checkCollisions=function(t){var e=t.parent;for(var n in e.collisionHandlers){var r=e.collisionHandlers[n],o=i.a.get(n);for(var a in this.actorInstanceMap){var c=this.actorInstanceMap[a];c.parent===o&&t!==c&&t.collidesWith(c)&&r(t,c)}}},t.prototype.createActor=function(e,n,r){var o=t.nextActorInstanceID(),a=new i.b(e,o,n,r);return this.actorInstanceMap[o]=a,e.hasCreate&&e.callCreate(a),a},t.prototype.destroyActorInstance=function(t){var e=t.parent;e.hasDestroy&&e.callDestroy(t),delete this.actorInstanceMap[t.id]},t.prototype.getInstances=function(){var t=[];for(var e in this.actorInstanceMap)t.push(this.actorInstanceMap[e]);return t},t.prototype.getInstancesAtPosition=function(t,e){return this.getInstances().filter(function(n){return n.occupiesPosition(t,e)})},t.prototype.isPositionFree=function(t,e){return!this.getInstancesAtPosition(t,e).length},t.prototype.getView=function(){return this.view},t.prototype.handleClick=function(t){var e=t.x,n=t.y;this.view&&(e+=this.view.x,n+=this.view.y),this.grid&&this.grid.raiseClickEvent(e,n),this.getInstancesAtPosition(e,n).forEach(function(i){var r=i.parent;r.hasClick&&i.occupiesPosition(e,n)&&r.callClick(i,t)})},t.prototype.end=function(){this.actorInstanceMap={},this.eventHandlers.forEach(function(t){return t.dispose()})},t.nextActorInstanceID=function(){var t=0;return function(){return++t}}(),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var i=n(3),r=n(16),o=n(1),a=n(6),c=n(17),s=function(){function t(t,e){void 0===e&&(e={}),this.collisionHandlers={},this.actorEventHandlers={},this.boundary=e.boundary,this.name=t,this.sprite=e.sprite}return t.define=function(e,n){var i=new t(e,n);return o.a.defineActor(e,i),i},t.get=function(t){return o.a.getActor(t)},Object.defineProperty(t.prototype,"hasCreate",{get:function(){return!!this.onCreateCallback},enumerable:!0,configurable:!0}),t.prototype.onCreate=function(t){this.onCreateCallback=t},t.prototype.callCreate=function(t){this.onCreateCallback(t)},Object.defineProperty(t.prototype,"hasStep",{get:function(){return!!this.onStepCallback},enumerable:!0,configurable:!0}),t.prototype.onStep=function(t){this.onStepCallback=t},t.prototype.callStep=function(t){this.onStepCallback(t)},Object.defineProperty(t.prototype,"hasDestroy",{get:function(){return!!this.onDestroyCallback},enumerable:!0,configurable:!0}),t.prototype.onDestroy=function(t){this.onDestroyCallback=t},t.prototype.callDestroy=function(t){this.onDestroyCallback(t)},Object.defineProperty(t.prototype,"hasClick",{get:function(){return!!this.onClickCallback},enumerable:!0,configurable:!0}),t.prototype.onClick=function(t){this.onClickCallback=t},t.prototype.callClick=function(t,e){this.onClickCallback(t,e)},Object.defineProperty(t.prototype,"hasDraw",{get:function(){return!!this.onDrawCallback},enumerable:!0,configurable:!0}),t.prototype.onDraw=function(t){this.onDrawCallback=t},t.prototype.callDraw=function(t,e){this.onDrawCallback(t,e)},t.prototype.onCollide=function(t,e){this.collisionHandlers[t]=e},t.prototype.onEvent=function(t,e){this.actorEventHandlers[t]=e},t}(),u=function(){function t(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0),this.parent=t,this.id=e,this.x=n,this.y=r,this.speed=0,this.direction=i.b.Right,this.visible=!0,this.state=i.a.Active,this.previousX=this.x,this.previousY=this.y,this.parent.sprite&&(this.spriteAnimation=new a.b(this.parent.sprite))}return Object.defineProperty(t.prototype,"hasMoved",{get:function(){return this.x!==this.previousX||this.y!==this.previousY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this.state===i.a.Active},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boundary",{get:function(){return this.parent.boundary},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animation",{get:function(){return this.spriteAnimation},enumerable:!0,configurable:!0}),t.prototype.raiseEvent=function(t,e){this.raiseEventWhen(t,function(){return!0},e)},t.prototype.raiseEventWhen=function(t,e,n){void 0===n&&(n={}),this.setGameContextEventArgs(n);var i=this.parent.actorEventHandlers[t];if(!i)throw new Error("Attempting to raise undefined Event: "+t);r.a.register(new r.a(e,i.bind(null,this,n)))},t.prototype.setGameContextEventArgs=function(t){t.game={currentRoom:o.a.getCurrentRoom()}},t.prototype.destroy=function(){this.state=i.a.Destroyed},t.prototype.doPostStep=function(){this.previousX=this.x,this.previousY=this.y},t.prototype.collidesWith=function(t){return!!(this.hasMoved&&this.boundary&&t.boundary)&&this.boundary.atPosition(this.x,this.y).collidesWith(t.boundary.atPosition(t.x,t.y))},t.prototype.getMovementOffsetX=function(){return c.a.getLengthDirectionX(100*this.speed,this.direction)/100},t.prototype.getMovementOffsetY=function(){return c.a.getLengthDirectionY(100*this.speed,this.direction)/100},t.prototype.setPositionRelative=function(t,e){this.setPosition(this.x+t,this.y+e)},t.prototype.setPosition=function(t,e){this.previousX=this.x,this.previousY=this.y,this.x=t,this.y=e},t.prototype.move=function(t,e){this.speed=t,this.direction=e},t.prototype.occupiesPosition=function(t,e){return!!this.boundary&&this.boundary.atPosition(this.x,this.y).containsPosition(t,e)},t}()},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var i=n(3),r=function(){function t(t,e,n){this.grid=t,this.x=e,this.y=n}return t.prototype.getCell=function(){var t=this.x-this.x%this.grid.tileSize,e=this.y-this.y%this.grid.tileSize;return new o(this.grid,t,e)},t}(),o=function(){function t(t,e,n){this.grid=t,this.x=e,this.y=n}return t.prototype.getAdjacentCell=function(e){var n=0,r=0;switch(e){case i.b.Down:r=this.grid.tileSize;break;case i.b.Left:n=-this.grid.tileSize;break;case i.b.Right:n=this.grid.tileSize;break;case i.b.Up:r=-this.grid.tileSize}return new t(this.grid,this.x+n,this.y+r)},t.prototype.getContents=function(){return this.grid.room.getInstancesAtPosition(this.x+this.grid.tileSize/2,this.y+this.grid.tileSize/2)},t.prototype.containsInstance=function(t){return this.getContents().some(function(e){return e===t})},t.prototype.containsInstanceOf=function(t){return this.getContents().some(function(e){return e.parent===t})},t.prototype.isFree=function(){return!this.getContents().length},t}(),a=function(){function t(t,e){this.tileSize=t,this.room=e}return t.prototype.onClick=function(t){this._onClick=t},t.prototype.raiseClickEvent=function(t,e){this.room.getInstancesAtPosition(t,e);var n=new r(this,t,e);this._onClick(n)},t.prototype.getCellAtPosition=function(t,e){return new o(this,t,e)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i;!function(t){t[t.SamePosition=1]="SamePosition",t[t.Center=2]="Center"}(i||(i={}));var r=function(){function t(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i,this.attachments=[]}return t.prototype.follow=function(t,e){void 0===e&&(e=!1),this.viewMode=e?i.Center:i.SamePosition,this.followInstance=t},t.prototype.attach=function(t,e,n){this.attachments.push(new o(this,t,e,n))},t.prototype.update=function(){this.followInstance&&(this.viewMode===i.Center?this.centerAroundBoundary(this.followInstance.boundary):(this.x=this.followInstance.x||0,this.y=this.followInstance.y||0),this.attachments.forEach(function(t){return t.update()}))},t.prototype.centerAroundBoundary=function(t){if(!t)throw new Error("boundary is "+t);this.x=this.followInstance.x+t.width/2-this.width/2,this.y=this.followInstance.y+t.height/2-this.height/2},t}(),o=function(){function t(t,e,n,i){this.parent=t,this.instance=e,this.offsetX=n,this.offsetY=i}return t.prototype.update=function(){this.instance.x=this.parent.x+this.offsetX,this.instance.y=this.parent.y+this.offsetY},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"SpriteFader",function(){return r});var i=n(0),r=function(){function t(){}return t.fadeOut=function(t,e){var n=1,r=setInterval(function(){n-=.25,t.forEach(function(t){return t.transform(i.SpriteTransformation.Opacity,-.25)}),n<=0&&(clearInterval(r),setTimeout(e,200))},100)},t.fadeIn=function(t,e){var n=0;t.forEach(function(t){return t.setTransform(i.SpriteTransformation.Opacity,0)});var r=setInterval(function(){n+=.25,t.forEach(function(t){return t.transform(i.SpriteTransformation.Opacity,.25)}),n>=1&&(clearInterval(r),e&&setInterval(e,200))},100)},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"LevelBuilder",function(){return c}),n.d(e,"Levels",function(){return s});var i,r=n(0),o=n(2),a=n(4),c=function(){function t(){}return t.populateRoom=function(t,e){var n=a.GridCellSize,i=r.Actor.get("Block"),c=r.Actor.get("Player"),u=r.Actor.get("Wall"),l=r.Actor.get("Win"),f=[],h=s.get(e),d={0:[o.LevelBgColor.Teal,o.LevelBgColor.DarkTeal]};t.setBackground(d[0][0],h[0].length*n,h.length*n,d[0][1]);for(var p=0;p<h.length;p++)for(var v=h[p],g=0;g<v.length;g++)switch(v.charAt(g)){case"X":f.push(t.createActor(i,g*n,p*n));break;case"P":f.push(t.createActor(c,g*n,p*n));break;case"W":f.push(t.createActor(l,g*n,p*n));break;case"#":var y=t.createActor(u,g*n,p*n),m=this.getWallFrame(h,p,g);y.spriteAnimation.set(m),f.push(y)}return f},t.getWallFrame=function(t,e,n){var r=t[0].length-1,o=t.length-1,a=e>0&&"#"!==t[e-1][n],c=e>0&&n>0&&"#"!==t[e-1][n-1],s=e>0&&n<r&&"#"!==t[e-1][n+1],u=e<o&&"#"!==t[e+1][n],l=e<o&&n>0&&"#"!==t[e+1][n-1],f=e<o&&n<r&&"#"!==t[e+1][n+1],h=n>0&&"#"!==t[e][n-1],d=n<r&&"#"!==t[e][n+1];if(!a){if(!h){if(!d){if(!u){if(!c){if(!s)return l?f?i.ThreewayBottom:i.InnerCornerTopRight:f?i.InnerCornerTopLeft:i.Inner;if(!l)return f?i.ThreewayRight:i.InnerCornerBottomLeft}return s||f?l||f?i.Fourway:i.ThreewayTop:l?i.ThreewayLeft:i.InnerCornerBottomRight}return c||s?i.ThreewayNarrowTop:i.FlatTop}if(!u)return c||l?i.ThreewayNarrowLeft:i.FlatLeft;if(!c)return i.OuterCornerBottomRight}if(!d){if(!u)return s||f?i.ThreewayNarrowRight:i.FlatRight;if(!s)return i.OuterCornerBottomLeft}return u?i.CappedBottom:i.NarrowVertical}return h?d?u?i.Solo:i.CappedTop:f||u?i.CappedLeft:i.OuterCornerTopLeft:d?l||u?i.CappedRight:i.OuterCornerTopRight:u?i.NarrowHorizontal:l||f?i.ThreewayNarrowBottom:i.FlatBottom},t}(),s=function(){function t(){}return Object.defineProperty(t,"count",{get:function(){var t=0;for(var e in this.levels)t++;return t},enumerable:!0,configurable:!0}),t.get=function(t){return this.levels[t]},t.levels={1:["##################","#                #","#       ##       #","#       ##       #","#XX              #","#####           X#","####### P      ###","##########    ####","##########  ######","##################"],2:["##################","#    #      #    #","#   ##   #  ##   #","#P   #      #    #","##       #       #","#W      ###  #####","####     #       #","#                #","# XX X  #    XXXX#","##################"],3:["##################","#                #","#                #","#                #","#                #","#                #","#         #      #","# XXX      #     #","# XXXX  P # #  XX#","##################"],4:["##################","#                #","#   #            #","#         #      #","#    #           #","#  #         XX  #","#           XXXXX#","#          XXXXXX#","#  P    XXXXXXXXX#","##################"],5:[],6:[],7:[],8:[],9:[],10:[],11:[],12:[],13:[],14:[],15:[],16:[],17:[],18:[],19:[],20:[],21:[],22:[],23:[],24:[],25:[],26:[],27:[],28:[],29:[],30:[],31:[],32:[]},t}();!function(t){t[t.InnerCornerTopLeft=0]="InnerCornerTopLeft",t[t.FlatTop=1]="FlatTop",t[t.InnerCornerTopRight=2]="InnerCornerTopRight",t[t.OuterCornerTopLeft=3]="OuterCornerTopLeft",t[t.OuterCornerBottomLeft=4]="OuterCornerBottomLeft",t[t.FlatLeft=5]="FlatLeft",t[t.Inner=6]="Inner",t[t.FlatRight=7]="FlatRight",t[t.OuterCornerTopRight=8]="OuterCornerTopRight",t[t.InnerCornerBottomLeft=9]="InnerCornerBottomLeft",t[t.FlatBottom=10]="FlatBottom",t[t.InnerCornerBottomRight=11]="InnerCornerBottomRight",t[t.OuterCornerBottomRight=12]="OuterCornerBottomRight",t[t.NarrowHorizontal=13]="NarrowHorizontal",t[t.NarrowVertical=14]="NarrowVertical",t[t.CappedLeft=15]="CappedLeft",t[t.CappedTop=16]="CappedTop",t[t.CappedRight=17]="CappedRight",t[t.CappedBottom=18]="CappedBottom",t[t.ThreewayNarrowTop=19]="ThreewayNarrowTop",t[t.ThreewayNarrowRight=20]="ThreewayNarrowRight",t[t.ThreewayNarrowBottom=21]="ThreewayNarrowBottom",t[t.ThreewayNarrowLeft=22]="ThreewayNarrowLeft",t[t.Fourway=23]="Fourway",t[t.Solo=24]="Solo",t[t.ThreewayTop=25]="ThreewayTop",t[t.ThreewayRight=26]="ThreewayRight",t[t.ThreewayBottom=27]="ThreewayBottom",t[t.ThreewayLeft=28]="ThreewayLeft"}(i||(i={}))},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(6),r=function(){function t(t){this.canvasElement=t,this.gameCanvasContext=new o(this)}return Object.defineProperty(t.prototype,"context",{get:function(){return this.canvasElement.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvasElement.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.canvasElement.width},enumerable:!0,configurable:!0}),t.prototype.init=function(t){void 0===t&&(t={}),this.canvasElement.height=t.height||480,this.canvasElement.width=t.width||640},t.prototype.drawRoom=function(t){var e=this;this.context.clearRect(0,0,this.canvasElement.width,this.canvasElement.height);var n=this.getViewOffset(t.getView()),i=n[0],r=n[1];t.background&&(this.context.beginPath(),this.context.rect(-i,-r,t.background.width,t.background.height),this.context.fillStyle=t.background.color,this.context.fill()),t.hasDraw&&t.callDraw(this.gameCanvasContext),t.getInstances().sort(function(t,e){return(e.spriteAnimation?e.spriteAnimation.depth:0)-(t.spriteAnimation?t.animation.depth:0)}).forEach(function(t){t.parent.hasDraw&&t.parent.callDraw(t,e.gameCanvasContext),t.animation&&t.visible&&e.drawSprite(t.animation.source,t.x-i,t.y-r,t.spriteAnimation.frame)})},t.prototype.getViewOffset=function(t){return[t?t.x:0,t?t.y:0]},t.prototype.drawSprite=function(t,e,n,r){void 0===r&&(r=0);var o=t.image,a=t.frameBorder||0,c=t.width,s=t.height,u=r*a,l=t.getTransform(i.c.Opacity),f=null;1!==l&&null!==l&&void 0!==l&&(f=this.context.globalAlpha,this.context.globalAlpha=l),this.context.drawImage(o,r*c+u,0,c,s,Math.floor(e),Math.floor(n),c,s),null!==f&&(this.context.globalAlpha=f)},t.prototype.drawSpriteViewRelative=function(t,e,n,i,r){var o=this.getViewOffset(r),a=o[0],c=o[1];this.drawSprite(t,e-a,n-c,i)},t}(),o=function(){function t(t){this.gameCanvas=t}return t.prototype.drawSprite=function(t,e,n,i,r){void 0===i&&(i=0),this.gameCanvas.drawSpriteViewRelative(t,e,n,i,r)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(3),r=n(1),o=60,a=function(){function t(t,e){this.canvas=t,this.options=e,this.state=i.c.Paused,this.targetFPS=e.targetFPS||o}return Object.defineProperty(t.prototype,"isRunning",{get:function(){return this.state===i.c.Running},enumerable:!0,configurable:!0}),t.prototype.pause=function(){this.state=i.c.Paused},t.prototype.start=function(){var t=this,e=1/this.targetFPS,n=0,o=window.performance.now(),a=function(){var i=r.a.getCurrentRoom(),c=window.performance.now();for(n+=Math.min(1,(c-o)/1e3);n>e;){if(!t.isRunning)return;r.a.checkAndFireEvents(),i.step(),n-=e}t.isRunning&&t.canvas.drawRoom(i),o=c,requestAnimationFrame(a)};this.state=i.c.Running,requestAnimationFrame(a)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),r=function(){function t(t,e,n){void 0===n&&(n=!0),this.conditionCallback=t,this.actionCallback=e,this.fireOnce=n}return t.register=function(t){i.a.registerEvent(t)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.getLengthDirectionX=function(t,e){return t*Math.cos(e*(Math.PI/180))},t.getLengthDirectionY=function(t,e){return t*Math.sin(e*(Math.PI/180))},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=function(){function t(t,e,n){this.x=t,this.y=e,this.height=n.height,this.width=n.width}return t.prototype.collidesWith=function(t){return!(this.x>t.x+t.width||t.x>=this.x+this.width)&&!(this.y>t.y+t.height||t.y>=this.y+this.height)},t.prototype.containsPosition=function(t,e){return!(this.x>t||t>this.x+this.width)&&!(this.y>e||e>this.y+this.height)},t}(),r=function(){function t(t,e,n){if(void 0===n&&(n=!1),this.height=t,this.width=e,this.solid=n,t<=0||e<=0)throw new Error("Height and width must both be greater than zero.")}return t.fromSprite=function(e,n){return void 0===n&&(n=!1),new t(e.height,e.width,n)},t.prototype.atPosition=function(t,e){return new i(t,e,this)},t}()},function(t,e,n){"use strict";function i(t,e){e.forEach(function(e){return n(28)("./"+t+"/"+e)})}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(4),a=n(2),c=n(7),s=n(13);i("actors",["block","hud","player","wall","win"]),i("rooms",["level","level-select","title"]);var u=function(){var t=window.innerWidth<o.CanvasMaxWidth,e=t?window.innerWidth:o.CanvasMaxWidth;e+=e%2==0?0:1;var n=t?window.innerHeight:o.CanvasMaxHeight;return n+=n%2==0?0:1,[e,n]}(),l=u[0],f=u[1];c.Registry.set(a.Settings.CanvasWidth,l),c.Registry.set(a.Settings.CanvasHeight,f);var h=function(){for(var t=1;s.Levels.get(t).length;)t++;return t-1}();c.Registry.set(a.Settings.UnlockedLevels,h),r.Vastgame.init("game",{canvas:{width:l,height:f}}).start(a.RoomID.Title)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(2),a=i.Sprite.define(o.SpriteID.Box,{imageSource:"../resources/box.png",height:r.GridCellSize,width:r.GridCellSize}),c=i.Actor.define(o.ActorID.Block,{boundary:i.Boundary.fromSprite(a),sprite:a});c.onEvent(o.GameAction.Fall,function(t,e){if(e.game.currentRoom.isPositionFree(t.x+1,t.y+r.GridCellSize+1)){var n=t.y;e.targetCell=e.targetCell.getAdjacentCell(i.Direction.Down),t.move(r.BlockFallSpeed,i.Direction.Down),t.raiseEventWhen(o.GameAction.Stop,function(){return Math.abs(n-t.y)>=r.GridCellSize},e)}}),c.onEvent(o.GameAction.Stop,function(t,e){var n=e.game.currentRoom,i=e.targetCell;t.move(0),t.setPosition(i.x,i.y),n.isPositionFree(t.x+1,t.y+r.GridCellSize+1)&&t.raiseEvent(o.GameAction.Fall,e)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(2),a=i.Sprite.define(o.SpriteID.X,{imageSource:"../resources/x.png",height:r.GridCellSize,width:r.GridCellSize});i.Actor.define(o.ActorID.ExitButton,{boundary:i.Boundary.fromSprite(a),sprite:a}).onClick(function(){return i.Vastgame.setRoom(o.RoomID.LevelSelect)})},function(t,e,n){"use strict";function i(t,e,n){void 0===n&&(n=!1);var i=f.StandRight;i=r?e===o.Direction.Right?f.StandHoldRight:f.StandHoldLeft:e===o.Direction.Right?f.StandRight:f.StandLeft,n?t.spriteAnimation.start(i+1,i+2,100):t.spriteAnimation.set(i)}Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(0),a=n(4),c=n(2),s=o.Sprite.define(c.SpriteID.StackmoSheet,{imageSource:"../resources/stackmo_sheet.png",height:a.GridCellSize,width:a.GridCellSize,frameBorder:4}),u=o.Actor.define(c.ActorID.Player,{boundary:o.Boundary.fromSprite(s),sprite:s}),l=o.Direction.Right;u.onCreate(function(t){t.animation.depth=-50,r=null}),u.onStep(function(t){r&&r.setPosition(t.x,t.y-a.GridCellSize)}),u.onEvent(c.GameAction.Move,function(t,e){var n=e.targetCell,s=e.direction,u=t.x;l=s,(!r||r&&n.getAdjacentCell(o.Direction.Up).isFree())&&(t.move(a.PlayerMoveSpeed,s),t.raiseEventWhen(c.GameAction.CheckStopMoving,function(){return Math.abs(u-t.x)>=a.GridCellSize},e),i(t,s,!0))}),u.onEvent(c.GameAction.CheckStopMoving,function(t,e){var n=e.targetCell,i=c.GameAction.Stop;if(t.move(0),t.setPosition(n.x,n.y),o.Input.clickActive||o.Input.keyDown(l===o.Direction.Left?o.Key.Left:o.Key.Right)){var r=n.getAdjacentCell(l),a=n.getAdjacentCell(o.Direction.Down);r.isFree()&&!a.isFree()&&(e.targetCell=r,i=c.GameAction.Move)}t.raiseEvent(i,e)}),u.onEvent(c.GameAction.Fall,function(t,e){var n=t.y,r=e.direction;e.targetCell=e.targetCell.getAdjacentCell(o.Direction.Down),t.move(a.PlayerFallSpeed,o.Direction.Down),t.raiseEventWhen(c.GameAction.Stop,function(){return Math.abs(n-t.y)>=a.GridCellSize},e),i(t,r,!1)}),u.onEvent(c.GameAction.Stop,function(t,e){var n=e.game.currentRoom,r=e.targetCell;t.move(0),t.setPosition(r.x,r.y),n.isPositionFree(t.x+1,t.y+a.GridCellSize+1)?t.raiseEvent(c.GameAction.Fall,e):i(t,l);var s=o.Actor.get(c.ActorID.Win);r.containsInstanceOf(s)&&n.getInstances().find(function(t){return t.parent===s}).raiseEvent(c.GameAction.Win)}),u.onEvent(c.GameAction.Jump,function(t,e){var n=e.targetCell,i=e.direction,s=t.y,u=n.getAdjacentCell(i===o.Direction.Right?o.Direction.Left:o.Direction.Right),l=r?u.getAdjacentCell(o.Direction.Up):null;if(l?l.isFree()&&l.getAdjacentCell(i).isFree():u.isFree()){t.move(a.PlayerJumpSpeed,o.Direction.Up),t.raiseEventWhen(c.GameAction.Move,function(){return Math.abs(s-t.y)>=a.GridCellSize},e)}}),u.onEvent(c.GameAction.Lift,function(t,e){var n=e.block,a=e.targetCell,s=l===o.Direction.Left?o.Direction.Right:o.Direction.Left,u=a.getAdjacentCell(o.Direction.Up),f=u.getAdjacentCell(s);(r||u.isFree()&&f.isFree())&&(r&&n===r?t.raiseEvent(c.GameAction.Drop,e):!r&&a.getAdjacentCell(s).containsInstance(t)&&(r=n,i(t,l)))}),u.onEvent(c.GameAction.Drop,function(t,e){var n=e.block,s=e.targetCell,u=l===o.Direction.Left?-a.GridCellSize:a.GridCellSize;s.getAdjacentCell(l).isFree()&&(e.targetCell=e.targetCell.getAdjacentCell(l),r=null,n.setPositionRelative(u,0),n.raiseEvent(c.GameAction.Fall,e),i(t,l))});var f;!function(t){t[t.StandLeft=0]="StandLeft",t[t.MoveLeft1=1]="MoveLeft1",t[t.MoveLeft2=2]="MoveLeft2",t[t.StandRight=3]="StandRight",t[t.MoveRight1=4]="MoveRight1",t[t.MoveRight2=5]="MoveRight2",t[t.StandHoldLeft=6]="StandHoldLeft",t[t.MoveHoldLeft1=7]="MoveHoldLeft1",t[t.MoveHoldLeft2=8]="MoveHoldLeft2",t[t.StandHoldRight=9]="StandHoldRight",t[t.MoveHoldRight1=10]="MoveHoldRight1",t[t.MoveHolddRight2=11]="MoveHolddRight2"}(f||(f={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(2),a=i.Sprite.define(o.SpriteID.Wall,{imageSource:"../resources/wall_sheet_teal.png",height:r.GridCellSize,width:r.GridCellSize,frameBorder:1});i.Actor.define(o.ActorID.Wall,{boundary:i.Boundary.fromSprite(a,!0),sprite:a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(2),a=i.Sprite.define(o.SpriteID.DoorSheet,{imageSource:"../resources/door_sheet.png",height:r.GridCellSize,width:32,frameBorder:1}),c=i.Actor.define(o.ActorID.Win,{boundary:i.Boundary.fromSprite(a,!0),sprite:a}),s=!1,u=!1,l=0;c.onCreate(function(t){t.animation.depth=-10,t.visible=!1}),c.onStep(function(t){s?l++:u&&l--}),c.onDraw(function(t,e){var n=i.Room.current.view;e.drawSprite(a,t.x-l,t.y,0,n),e.drawSprite(a,t.x+32+l,t.y,1,n)}),c.onEvent(o.GameAction.Win,function(t,e){t.raiseEvent("open")}),c.onEvent("open",function(t,e){s=!0,setTimeout(function(){t.raiseEvent("close")},500)}),c.onEvent("close",function(t,e){s=!1,t.animation.depth=-100,setTimeout(function(){u=!0,setTimeout(function(){t.raiseEvent("home")},500)},500)}),c.onEvent("home",function(t,e){l=0,u=!1,setTimeout(function(){i.Vastgame.setRoom(o.RoomID.LevelSelect)},500)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(2),a=n(7),c=n(12),s=i.Room.define(o.RoomID.Level);s.onStart(function(){var t=i.Actor.get(o.ActorID.Block),e=i.Actor.get(o.ActorID.ExitButton),n=i.Actor.get(o.ActorID.Player),u=i.Actor.get(o.ActorID.Wall),l=(i.Actor.get(o.ActorID.Win),i.Sprite.get(o.SpriteID.DoorSheet));c.SpriteFader.fadeIn([e.sprite,t.sprite,n.sprite,u.sprite,l]);var f=s.getInstances().find(function(t){return t.parent===n}),h=a.Registry.get(o.Settings.CanvasWidth),d=a.Registry.get(o.Settings.CanvasHeight),p=r.GridCellSize/4,v=s.defineView(0,0,h,d);v.follow(f,!0),v.attach(s.createActor(e),h-r.GridCellSize-p,p);var g=s.defineGrid(r.GridCellSize);g.onClick(function(e){var n=e.getCell();if(!f.speed&&!n.getContents().some(function(t){return t.parent===u})){var r=n.getAdjacentCell(i.Direction.Left),a=n.getAdjacentCell(i.Direction.Right),c=n.getAdjacentCell(i.Direction.Down),s=r.getAdjacentCell(i.Direction.Down),l=a.getAdjacentCell(i.Direction.Down);n.containsInstanceOf(t)?f.raiseEvent(o.GameAction.Lift,{block:n.getContents()[0],targetCell:n}):a.containsInstance(f)?f.raiseEvent(o.GameAction.Move,{direction:i.Direction.Left,targetCell:n}):r.containsInstance(f)?f.raiseEvent(o.GameAction.Move,{direction:i.Direction.Right,targetCell:n}):s.containsInstance(f)&&(c.containsInstanceOf(t)||c.containsInstanceOf(u))?f.raiseEvent(o.GameAction.Jump,{direction:i.Direction.Right,targetCell:n}):l.containsInstance(f)&&(c.containsInstanceOf(t)||c.containsInstanceOf(u))&&f.raiseEvent(o.GameAction.Jump,{direction:i.Direction.Left,targetCell:n})}}),s.onKey(i.Key.Left,function(){var e=g.getCellAtPosition(f.x,f.y).getAdjacentCell(i.Direction.Left);e.getAdjacentCell(i.Direction.Up).isFree()&&(e.containsInstanceOf(u)||e.containsInstanceOf(t))?g.raiseClickEvent(f.x-r.GridCellSize,f.y-r.GridCellSize):e.isFree()&&g.raiseClickEvent(f.x-r.GridCellSize,f.y)}),s.onKey(i.Key.Right,function(){var e=g.getCellAtPosition(f.x,f.y).getAdjacentCell(i.Direction.Right);e.getAdjacentCell(i.Direction.Up).isFree()&&(e.containsInstanceOf(u)||e.containsInstanceOf(t))?g.raiseClickEvent(f.x+r.GridCellSize,f.y-r.GridCellSize):e.isFree()&&g.raiseClickEvent(f.x+r.GridCellSize,f.y)}),s.onKey(i.Key.Down,function(){var e=g.getCellAtPosition(f.x,f.y),n=e.getAdjacentCell(i.Direction.Left),o=e.getAdjacentCell(i.Direction.Right),a=e.getAdjacentCell(i.Direction.Up),c=a.getAdjacentCell(i.Direction.Left),s=a.getAdjacentCell(i.Direction.Right);a.containsInstanceOf(t)?g.raiseClickEvent(f.x,f.y-r.GridCellSize):(n.containsInstanceOf(t)&&c.isFree()&&g.raiseClickEvent(f.x-r.GridCellSize,f.y),o.containsInstanceOf(t)&&s.isFree()&&g.raiseClickEvent(f.x+r.GridCellSize,f.y))})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,o,a,c,s,u=n(0),l=n(4),f=n(2),h=n(13),d=n(12),p=n(7),v=l.GridCellSize+16,g=u.Room.define(f.RoomID.LevelSelect);g.onStart(function(){o=p.Registry.get(f.Settings.CanvasWidth),r=p.Registry.get(f.Settings.CanvasHeight),g.setBackground(l.Black,o,r),i=g.defineView(0,0,o,r);var t=Math.floor(o/v);a=Math.floor((o-t*v)/2),c=Math.floor(r/6);var e=!1,n=Math.ceil(h.Levels.count/t);c+n*v>r&&(t--,n=Math.ceil(h.Levels.count/t),s=Math.ceil((n*v-r)/v),e=!0);for(var A=0,D=0,k=p.Registry.get(f.Settings.UnlockedLevels),I=0;I<h.Levels.count;I++){var R=g.createActor(w,a+D*v,c+A*v);R.levelNumber=I+1,R.enabled=I<k,++D===t&&(D=0,A++)}if(e){var x=g.createActor(b);x.spriteAnimation.set(1),x.x=o-8-b.sprite.width,x.direction=u.Direction.Up;var P=g.createActor(b);P.x=x.x,P.direction=u.Direction.Down}d.SpriteFader.fadeIn([y,m,C,S])});var y=u.Sprite.define(f.SpriteID.TextSheet,{imageSource:"../resources/text_sheet.png",height:32,width:320});g.onDraw(function(t){t.drawSprite(y,a,Math.floor(c/2-y.height),0,i)});var m=u.Sprite.define(f.SpriteID.Digits,{imageSource:"../resources/digits_32px.png",height:l.GridCellSize/2,width:l.GridCellSize/2}),C=u.Sprite.define(f.SpriteID.LevelIcon,{imageSource:"../resources/level_icon.png",width:l.GridCellSize,height:l.GridCellSize}),w=u.Actor.define(f.ActorID.LevelIcon,{boundary:u.Boundary.fromSprite(C),sprite:C});w.onClick(function(t){t.enabled&&d.SpriteFader.fadeOut([y,m,C,S],function(){var e=t.levelNumber,n=u.Room.get(f.RoomID.Level);h.LevelBuilder.populateRoom(n,e),u.Vastgame.setRoom(f.RoomID.Level)})}),w.onDraw(function(t,e){if(t.enabled){var n=t.levelNumber,r=Math.floor((C.width-m.width)/2);if(n<10){var o=n;e.drawSprite(m,t.x+r,t.y+r,o,i)}else{var a=Math.floor(n/10),c=Math.floor(r/2)-3;e.drawSprite(m,t.x+c,t.y+r,a,i);var s=n%10,u=Math.floor(2*r)-3;e.drawSprite(m,t.x+u,t.y+r,s,i)}}});var S=u.Sprite.define(f.SpriteID.Arrows,{imageSource:"../resources/arrows.png",height:l.GridCellSize,width:l.GridCellSize}),b=u.Actor.define(f.ActorID.ScrollArrow,{boundary:u.Boundary.fromSprite(S),sprite:S});b.onClick(function(t,e){if(t.enabled){var n=t.direction;i.y+=n===u.Direction.Down?64:-64,i.y<0&&(i.y=0)}}),b.onStep(function(t){var e=t.direction===u.Direction.Up;t.y=e?c+i.y:r-82+i.y,t.enabled=e?i.y>0:i.y<(s+2)*v})},function(t,e,n){"use strict";function i(){a.SpriteFader.fadeOut([l],function(){r.Vastgame.setRoom(o.RoomID.LevelSelect)})}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(2),a=n(12),c=n(7),s=0,u=0,l=r.Sprite.define(o.SpriteID.Title,{imageSource:"../resources/title.png",width:360,height:150}),f=r.Room.define(o.RoomID.Title);f.onStart(function(){var t=c.Registry.get(o.Settings.CanvasWidth),e=c.Registry.get(o.Settings.CanvasHeight);s=Math.floor((t-360)/2),u=Math.floor((e-150)/4),a.SpriteFader.fadeIn([l])}),f.onDraw(function(t){t.drawSprite(l,s,u)}),f.onClick(i),f.onKey(r.Key.Any,i)},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./actors/block":20,"./actors/block.ts":20,"./actors/hud":21,"./actors/hud.ts":21,"./actors/player":22,"./actors/player.ts":22,"./actors/wall":23,"./actors/wall.ts":23,"./actors/win":24,"./actors/win.ts":24,"./game":19,"./game.ts":19,"./rooms/level":25,"./rooms/level-select":26,"./rooms/level-select.ts":26,"./rooms/level.ts":25,"./rooms/title":27,"./rooms/title.ts":27,"./util/constants":4,"./util/constants.ts":4,"./util/enum":2,"./util/enum.ts":2,"./util/level-builder":13,"./util/level-builder.ts":13,"./util/registry":7,"./util/registry.ts":7,"./util/sprite-fader":12,"./util/sprite-fader.ts":12};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=28}]);